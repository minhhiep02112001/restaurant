var eventTabId='#promotions #tabs-1 > .ui-tabs-nav > li:first-child a';var specialOfferTabId='#promotions #tabs-1 > .ui-tabs-nav > li:nth-child(2) a';var bookYrEventTabId='#contact-us .ui-tabs-nav > li:nth-child(2) a';var bookaTableTabId='#contact-us .ui-tabs-nav > li:nth-child(1) a';jQuery(document).ready(function(){if(jQuery(window).width()<900)
jQuery('.responsive-layout #google-map-section').remove()
var isTop=window.location.hash!="#gallery"&&window.location.hash!="#booking";var pageloaded=true;var homepageTabs=jQuery('#tabs-1.vamtam-tabs');if(homepageTabs.length>0&&isTop){jQuery(window).scroll(function(event){if(pageloaded){var windowTop=jQuery(window).scrollTop();var windowHeight=jQuery(window).height();var windowBottom=windowTop+windowHeight;var homepageTabsTop=homepageTabs.offset().top+60;if(homepageTabsTop<windowBottom&&homepageTabsTop>windowTop){if(pageloaded){chooseTab(eventTabId);pageloaded=false;}}}});}
jQuery(".mega-menu-link[href=#promotions]").on('click',function(){chooseTab(specialOfferTabId);});jQuery(window).on('vamtam-mobile-menu-toggle',function(){if(jQuery('#vamtam-megamenu-main-menu-toggle').hasClass('mega-menu-open')){jQuery('.header-contents').addClass('mobile-menu-open');jQuery('.hotline').hide();jQuery('#scroll-to-top').hide();}else{jQuery('.header-contents').removeClass('mobile-menu-open');jQuery('.hotline').show();jQuery('#scroll-to-top').show();}});showMoreDetail();showChefDetail();preventSignatureDiskAnchor("#signature_dishes");jQuery("#event_date").datepicker({dateFormat:'yy/mm/dd',defaultDate:new Date(),minDate:0,onSelect:function(dateText){}});jQuery("#event_date").attr('autocomplete','off').attr('readonly','true');jQuery('#bookyoureventbtn,#bookyoureventbtn2').click(function(){chooseTab(bookYrEventTabId);});showEventDescription();checkToCloseHotline();jQuery('li[class*=new-tab-link] > a').attr('target','_blank');loopthroughTabsToRelayoutSliders();initBookNow();checkYourEventInOpeningTime();bindSubmitYourEventSuccess();jQuery('input[name=num-of-guests]').val(4);jQuery('input#fp_res_people').val(2);if(typeof(google)==='undefined'&&typeof(gmpLoadGoogleLib)!=='undefined'){setTimeout(updateGMapBackgroundColor,1500);}else{updateGMapBackgroundColor();}});function updateGMapBackgroundColor(){var logo_gmap=jQuery('.piosu-logo-gmap');if(logo_gmap.length>0){logo_gmap.closest('.gm-style-iw-t').addClass('piosu-logo-gmap-ctn');logo_gmap.closest('.gm-style-iw-d').addClass('piosu-logo-gmap-ctn');logo_gmap.closest('.gm-style-iw.gm-style-iw-c').addClass('piosu-logo-gmap-ctn');}else{setTimeout(updateGMapBackgroundColor,1500);}}
function bindSubmitYourEventSuccess(){document.addEventListener('wpcf7submit',function(event){if('14620'==event.detail.contactFormId||'13967'==event.detail.contactFormId||'14495'==event.detail.contactFormId){if(event.detail.status=="mail_sent"){jQuery('#book_yr_event .resv-section,#book_yr_event .wpcf7-response-output').hide();jQuery('#book_yr_event .form_message .fp_res_success').show();jQuery('#book_yr_event .fp_make_res.onpage').addClass('success');var inputs=event.detail.inputs;for(var i=0;i<inputs.length;i++){var text=inputs[i].value!=""?inputs[i].value:" ";jQuery('#book_yr_event .fp_make_res.onpage span[data-field='+inputs[i].name+']').text(inputs[i].value);}}}},false);jQuery(bookYrEventTabId).on('click',function(){if(!jQuery('#book_yr_event .fp_make_res.onpage').hasClass('success')){jQuery('#book_yr_event .form_message .fp_res_success').hide();}});}
function checkToCloseHotline(){jQuery('body').on('click',function(event){var hotlinebtn=jQuery('.hotline:not(.reception-bell)');if(!hotlinebtn.hasClass('right')&&!jQuery(event.target).is('.hotline:not(.reception-bell)')&&hotlinebtn.has(event.target).length===0){jQuery('.hotline:not(.reception-bell)').toggleClass('right');}});}
function relayoutSlider(tabId,isChild){var tabItem=jQuery('a[href='+tabId+']');if(tabItem.length>0){if(!tabItem.parent().hasClass('ui-state-active')){tabItem.on('click',function(){jQuery(tabId+' .vamtam-cubeportfolio').cubeportfolio('layout',function(){});});}}}
function loopthroughTabsToRelayoutSliders(){jQuery('.ui-tabs-anchor').each(function(){var $this=jQuery(this);var tabId=$this.attr('href');var $cubepo=jQuery(tabId+' .vamtam-cubeportfolio');if($cubepo.length>0)
{$this.on('click',function(){jQuery(tabId+' .vamtam-cubeportfolio').cubeportfolio('layout',function(){});});}});}
var openTime=[{min:"10:30",max:"14:00"},{min:"17:00",max:"22:00"}];var openTimeSunday=[{min:"10:30",max:"14:30"},{min:"17:00",max:"22:00"}];function initBookNow(){var dt=new Date();var time=dt.getHours()+":"+dt.getMinutes();if(time>=openTime[1].max)
dt.setDate(dt.getDate()+1);jQuery("#fp_res_date,#event_date").datepicker('setDate',dt);hideOurOfWorkingTime('select[name=starttime] > option',dt);hideOurOfWorkingTime('select[name=endtime] > option',dt,true);hideOurOfWorkingTime('select[name=time] > option',dt);jQuery("#fp_res_date").datepicker('option','onSelect',function(date){hideOurOfWorkingTime('select[name=time] > option',date);});jQuery("#event_date").datepicker('option','onSelect',function(date){hideOurOfWorkingTime('select[name=starttime] > option,select[name=endtime] > option',date);});}
function checkTimeInOpeningTime(){var st=jQuery('select[name=starttime]').val(),et=jQuery('select[name=endtime]').val();if(st>=et){jQuery('select[name=starttime],select[name=endtime]').addClass('error');return-1;}
var okFlag=0;jQuery.each(openTime,function(index,item){if(st>=item.min&&et<=item.max){okFlag=1;}});if(okFlag==1)
jQuery('select[name=starttime],select[name=endtime]').removeClass('error');else
jQuery('select[name=starttime],select[name=endtime]').addClass('error');return okFlag;}
function checkYourEventInOpeningTime(){jQuery('select[name=starttime],select[name=endtime]').on('change',function(){checkTimeInOpeningTime();});jQuery('#book_yr_event input[aria-required=true]').each(function(){var $this=jQuery(this);$this.parent().append('<span role="alert" class="wpcf7-not-valid-tip"></span>');});jQuery('#book_yr_event input[aria-required=true]').on('keyup paste change',function(){var $this=jQuery(this);var value=$this.val();if(value==""){if($this.parent().find('span[role=alert]').length==0){$this.parent().append('<span role="alert" class="wpcf7-not-valid-tip"></span>')}
$this.parent().find('span[role=alert]').css('opacity','1');$this.addClass('wpcf7-not-valid');}
else{$this.parent().find('span[role=alert]').css('opacity','0');$this.removeClass('wpcf7-not-valid');}});jQuery("#book_yr_event input[type=submit]").click(function(e){var flag=true;checkTimeInOpeningTime();jQuery('#book_yr_event input[aria-required=true]').each(function(){var $this=jQuery(this);var value=$this.val();if(value==""){flag=false;$this.parent().find('span[role=alert]').css('opacity','1');$this.addClass('wpcf7-not-valid');}});flag=flag&&!jQuery('select[name=starttime],select[name=endtime]').hasClass('error');if(!flag)
e.preventDefault();else{jQuery('#book_yr_event input[aria-required=true]').addClass('checked-required');}});}
function hideOurOfWorkingTime(items,selectedDate,isEndTime){var dt=new Date(selectedDate);var openTimeList=openTime;if(dt.getDay()==0){openTimeList=openTimeSunday;}
if(typeof isEndTime==='undefined')
isEndTime=false;jQuery(items).each(function(){var $option=jQuery(this);var $optionVal=$option.text();var flag=false;jQuery.each(openTimeList,function(index,item){if($optionVal>=item.min&&((isEndTime&&$optionVal<=item.max)||(!isEndTime&&$optionVal<item.max))){flag=true;}});if(!flag){if($option.filter(":selected").length>0){$option.parent().val(openTimeList[0].min);}
$option.hide();}
else $option.show();});}
function chooseTab(tabId){var tabItem=jQuery(tabId);if(tabItem.length>0)
tabItem.trigger('click');}
function showHotline(){jQuery('.hotline:not(.reception-bell)').toggleClass('right');}
function showMoreDetail(){if(jQuery(window).width()>900)return;var showChar=434;var ellipsestext="...";var moretext=pitoki_i18n.SHOWMORE+" <i class='icon shortcode theme  use-hover arrow-bottom' style='font-size:16px !important;'></i>";var lesstext=pitoki_i18n.SHOWLESS+" <i class='icon shortcode theme  use-hover arrow-top' style='font-size:16px !important;'></i>";jQuery('.moredetail').each(function(){var content=jQuery(this).html();if(content.length>showChar){var c=content.substr(0,showChar);var h=content.substr(showChar,content.length-showChar);var html=c+'<span class="more-detail-ellipses">'+ellipsestext+'&nbsp;</span><span class="morecontent"><span>'+h+'</span><a href="" class="moredetaillink">'+moretext+'</a></span>';jQuery(this).html(html);}});jQuery(".moredetaillink").click(function(){if(jQuery(window).width()>900)return;if(jQuery(this).hasClass("less")){jQuery(this).removeClass("less");jQuery(this).html(moretext);}else{jQuery(this).addClass("less");jQuery(this).html(lesstext);}
jQuery(this).parent().prev().toggle();jQuery(this).prev().toggle();return false;});}
function showChefDetail(){if(jQuery(window).width()>900)return;var showChar=452;var ellipsestext="...";var moretext=pitoki_i18n.SHOWMORE+" <i class='icon shortcode theme  use-hover arrow-bottom' style='font-size:16px !important;'></i>";var lesstext=pitoki_i18n.SHOWLESS+" <i class='icon shortcode theme  use-hover arrow-top' style='font-size:16px !important;'></i>";jQuery('.chef-detail').each(function(){var content=jQuery(this).html();if(content.length>showChar){var c=content.substr(0,showChar);var h=content.substr(showChar,content.length-showChar);var html=c+'<span class="more-chef-ellipses">'+ellipsestext+'&nbsp;</span><span class="morecontent"><span>'+h+'</span>&nbsp;&nbsp;<a href="" class="morelink">'+moretext+'</a></span>';jQuery(this).html(html);}});jQuery(".morelink").click(function(){if(jQuery(this).hasClass("less")){jQuery(this).removeClass("less");jQuery(this).html(moretext);}else{jQuery(this).addClass("less");jQuery(this).html(lesstext);}
jQuery(this).parent().prev().toggle();jQuery(this).prev().toggle();return false;});}
function preventSignatureDiskAnchor(containerId){jQuery(containerId+'.menu-slider .loop-wrapper.news .list-item.cbp-item a,#gallery-section-mobile .vamtam-cubeportfolio.cbp-slider-edge .cbp-wrapper .cbp-item-wrapper .cbp-slider-item a').attr('href','javascript:void(0)');}
function showEventDescription(){if(jQuery(window).width()>900)return;var showChar=434;var ellipsestext="...";var moretext=pitoki_i18n.SHOWMORE+" <i class='icon shortcode theme  use-hover arrow-bottom' style='font-size:16px !important;'></i>";var lesstext=pitoki_i18n.SHOWLESS+" <i class='icon shortcode theme  use-hover arrow-top' style='font-size:16px !important;'></i>";jQuery('#sub-header .desc').each(function(){var content=jQuery(this).html();if(content.length>showChar){var c=content.substr(0,showChar);var h=content.substr(showChar,content.length-showChar);var html=c+'<span class="more-event-ellipses">'+ellipsestext+'&nbsp;</span><span class="morecontent"><span>'+h+'</span>&nbsp;&nbsp;<p><a href="" class="moredesc">'+moretext+'</a></p></span>';jQuery(this).html(html);}});jQuery(".moredesc").click(function(){if(jQuery(this).hasClass("less")){jQuery(this).removeClass("less");jQuery(this).html(moretext);}else{jQuery(this).addClass("less");jQuery(this).html(lesstext);}
jQuery(this).parent().prev().toggle();jQuery(this).prev().toggle();return false;});}